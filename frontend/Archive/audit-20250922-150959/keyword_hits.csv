"Keyword","Path","LineNumber","Line"
"login","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","33","        router.replace(""/login"");"
"login","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","52","    router.replace(""/login"");"
"login","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","1","// src/lib/postLoginRedirect.ts"
"login","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","71","   - Questo file è riusabile ovunque (login, middleware, ecc.)."
"login","C:\GeoHistory\frontend\src\app\layout.js","12","  // Se siamo su /login, tolgo la classe ""gh-body"" (sospetto che applichi la mappa globale)"
"login","C:\GeoHistory\frontend\src\app\layout.js","13","  const bodyClass = pathname.startsWith(""/login"") ? """" : ""gh-body"";"
"auth","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","31","      const { data: { user } } = await supabase.auth.getUser();"
"auth","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","51","    await supabase.auth.signOut();"
"auth","C:\GeoHistory\frontend\src\lib\supabaseClient.ts","4","import { createClientComponentClient } from ""@supabase/auth-helpers-nextjs"";"
"auth","C:\GeoHistory\frontend\src\lib\api.js","111","    Authorization: ""Bearer "" + SUPABASE_ANON,"
"reset","C:\GeoHistory\frontend\src\components\FiltersBar.jsx","104","    // reset gerarchia geo"
"reset","C:\GeoHistory\frontend\src\components\FiltersBar.jsx","168","  const handleReset = async () => {"
"reset","C:\GeoHistory\frontend\src\components\FiltersBar.jsx","178","    onFiltersChanged?.(""reset"");"
"reset","C:\GeoHistory\frontend\src\components\FiltersBar.jsx","186","          <button type=""button"" className=""btn"" onClick={handleReset}>Reset</button>"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","102","/* ===== ResetController: reset vista al centro/zoom di default ===== */"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","105","function ResetController({ resetSignal }) {"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","109","    if (!resetSignal || resetSignal === last.current) return;"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","110","    last.current = resetSignal;"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","113","  }, [resetSignal, map]);"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","177","  resetSignal = 0, // 👈 nuovo: per reset vista"
"reset","C:\GeoHistory\frontend\src\components\MapView.jsx","203","      <ResetController resetSignal={resetSignal} />"
"student","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","10","type Role = ""student"" | ""researcher"" | ""enthusiast"" | ""moderator"" | ""admin"";"
"student","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","96","          role === ""student"" ? ""bg-emerald-600"" :"
"student","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","4","type Role = ""student"" | ""researcher"" | ""enthusiast"" | ""moderator"" | ""admin"";"
"student","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","7","  student:     { emoji: ""🎓"", color: ""bg-emerald-600"", label: ""Student"" },"
"student","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","15","  const cfg = roleMap[role] ?? roleMap.student;"
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","11","   Esempio: se la tua nuova landing studenti è /student/dashboard,"
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","12","   metti ""/student/dashboard""."
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","15","  ""/student"": ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","16","  ""/students"": ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","17","  ""/student/primary"": ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","18","  ""/students/primary"": ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","19","  ""/student-elementary"": ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","27","  student_elementary: ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","28","  student_middle: ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","29","  student_high: ""/student/home"","
"student","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","30","  student: ""/student/home"","
"student","C:\GeoHistory\frontend\src\config\persona-landing.config.json","4","    ""student"": {"
"student","C:\GeoHistory\frontend\src\config\persona-landing.config.json","5","      ""label_it"": ""Studente"","
"moderator","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","10","type Role = ""student"" | ""researcher"" | ""enthusiast"" | ""moderator"" | ""admin"";"
"moderator","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","99","          role === ""moderator"" ? ""bg-slate-600"" :"
"moderator","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","4","type Role = ""student"" | ""researcher"" | ""enthusiast"" | ""moderator"" | ""admin"";"
"moderator","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","10","  moderator:   { emoji: ""🛡️"", color: ""bg-slate-600"",   label: ""Moderator"" },"
"moderator","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","33","  moderator: ""/moderator/home"","
"moderator","C:\GeoHistory\frontend\src\config\persona-landing.config.json","45","    ""moderator"": {"
"moderator","C:\GeoHistory\frontend\src\config\persona-landing.config.json","46","      ""label_it"": ""Moderatore"","
"admin","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","10","type Role = ""student"" | ""researcher"" | ""enthusiast"" | ""moderator"" | ""admin"";"
"admin","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","15","  showOldMap?: boolean; // solo Admin"
"admin","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","67","            {/* Solo Admin → Old Map */}"
"admin","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","4","type Role = ""student"" | ""researcher"" | ""enthusiast"" | ""moderator"" | ""admin"";"
"admin","C:\GeoHistory\frontend\src\components\RoleBadge.tsx","11","  admin:       { emoji: ""⚙️"", color: ""bg-indigo-900"",  label: ""Admin"" },"
"admin","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","34","  admin: ""/admin/home"","
"admin","C:\GeoHistory\frontend\src\config\persona-landing.config.json","54","        ""followup"":        { ""mod_report"": true, ""guidelines"": true, ""assign_to_admin"": true }"
"admin","C:\GeoHistory\frontend\src\config\persona-landing.config.json","57","    ""admin"": {"
"admin","C:\GeoHistory\frontend\src\config\persona-landing.config.json","58","      ""label_it"": ""Admin"","
"admin","C:\GeoHistory\frontend\src\config\persona-landing.config.json","62","        ""evento_singolo"":  { ""card"": ""admin"", ""history"": true, ""permissions"": true },"
"explorer","C:\GeoHistory\frontend\src\components\DashboardShell.tsx","70","                href=""/explorer/old-map"""
"explorer","C:\GeoHistory\frontend\src\lib\postLoginRedirect.ts","64","  const fb = code && FALLBACK_BY_CODE[code] ? FALLBACK_BY_CODE[code] : ""/explorer"";"
